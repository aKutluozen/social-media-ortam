<div class="card border mb-3 w-100  animated fadeIn">
    <div class="card-header p-2" *ngIf="!post.image && !post.linkContent && !inProfile">
        <div class="row mx-auto justify-content-end">
            <div class="col-auto align-self-center px-0" (click)="viewProfile(post.nickName)">
                <small>{{ post.nickName }} - {{ post.created | date:'shortDate' }}</small>
            </div>
            <div class="col-1 px-0">
                <img src="{{ global.URL_S3_USERS + post.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                    class="w-75 rounded-circle float-right" alt="profil" (click)="viewProfile(post.nickName)">
            </div>
        </div>
    </div>
    <div class="card-body row mx-auto p-0">
        <div class="card-text col my-auto h-100">
            <div class="row" *ngIf="post.image && !post.linkContent">
                <div class="col-md-3 col-6 px-0" (click)="view()">
                    <img src="{{ global.URL_S3_POSTS + post?.image }}" class="w-100" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/uploadempty.png'">
                </div>
                <div class="col-md-9 col-6 my-2 align-self-center">
                    <div class="row justify-content-end p-2">
                        <div class="col-11 align-self-center pl-0" *ngIf="!post.isShared && !inProfile" (click)="viewProfile(post.nickName)">
                            <small class="float-right">{{ post.nickName }} - {{ post.created | date:'shortDate' }}</small>
                        </div>
                        <div class="col-11 align-self-center pl-0" *ngIf="post.isShared" (click)="viewProfile(post.shares[post.shares.length - 1].user.nickName)">
                            <small class="float-right">{{ post.shares[post.shares.length - 1].user.nickName }} - {{ post.shares[post.shares.length
                                - 1].date | date:'shortDate'}} </small>
                        </div>
                        <div class="col-1 d-sm-none d-md-block px-0" *ngIf="!post.isShared && !inProfile">
                            <img src="{{ global.URL_S3_USERS + post.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                                class="w-100 rounded-circle" alt="profil" (click)="viewProfile(post.nickName)">
                        </div>
                        <div class="col-1 d-sm-none d-md-block px-0" *ngIf="post.isShared">
                            <img src="{{ global.URL_S3_USERS + post.shares[post.shares.length - 1].user.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                                class="w-100 rounded-circle" alt="profil" (click)="viewProfile(post.shares[post.shares.length - 1].user.nickName)">
                        </div>
                    </div>
                    <div class="row border-top mt-2 pt-2" *ngIf="post.isShared">
                        <div class="pr-0 col-10 text-right" *ngIf="post.isShared">
                            <small>
                                <i class="fal fa-share-alt-square" aria-hidden="true"></i> <i>{{ lang.text.post.whoShared}}:
                                    {{ post.nickName }}</i> </small>
                        </div>
                        <div class="col-2 pr-0">
                            <img src="{{ global.URL_S3_USERS + post.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                                class="w-100 rounded-circle" alt="profil" (click)="viewProfile(post.nickName)">
                        </div>
                    </div>

                    <p class="text-center my-auto mx-auto  breakable-word" (click)="view()">
                        <small class="text-primary" *ngIf="post?.subject[0].length > 0">
                            <i>#{{ post?.subject[0].length >= 16 ? post?.subject[0].substring(0, 16) + ' ...' : post?.subject[0]
                                }}
                            </i> -</small>
                        {{ post.content.length > 80 ? post.content.substring(0, 80) + ' ...' :
                            post.content }}
                        <!-- {{ post.content }} -->
                    </p>
                </div>
            </div>
            <div class="row" *ngIf="post.linkContent && !post.image">
                <div class="col-md-3 col-6 px-0" (click)="view()">
                    <img class="w-100" src="{{ post?.linkContent.image }}" alt="Resim yok" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'">
                </div>
                <div class="col-md-9 col-6 my-2 align-self-center">
                    <div class="row justify-content-end p-2">
                        <div class="col-11 align-self-center pl-0" *ngIf="!post.isShared && !inProfile" (click)="viewProfile(post.nickName)">
                            <small class="float-right">{{ post.nickName }} - {{ post.created | date:'shortDate' }}</small>
                        </div>
                        <div class="col-11 align-self-center pl-0" *ngIf="post.isShared" (click)="viewProfile(post.shares[post.shares.length - 1].user.nickName)">
                            <small class="float-right">{{ post.shares[post.shares.length - 1].user.nickName }} - {{ post.shares[post.shares.length
                                - 1].date | date:'shortDate'}} </small>
                        </div>
                        <div class="col-1 d-sm-none d-md-block px-0" *ngIf="!post.isShared && !inProfile">
                            <img src="{{ global.URL_S3_USERS + post.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                                class="w-100 rounded-circle" alt="profil" (click)="viewProfile(post.nickName)">
                        </div>
                        <div class="col-1 d-sm-none d-md-block px-0" *ngIf="post.isShared">
                            <img src="{{ global.URL_S3_USERS + post.shares[post.shares.length - 1].user.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                                class="w-100 rounded-circle" alt="profil" (click)="viewProfile(post.shares[post.shares.length - 1].user.nickName)">
                        </div>
                    </div>
                    <h6 (click)="view()">{{ post?.linkContent.title.length > 40 ? post.linkContent.title.substring(0, 40) + ' ...' : post.linkContent.title
                        }}
                    </h6>
                    <span (click)="view()">{{ post?.linkContent.description.length > 60 ? post.linkContent.description.substring(0,
                        60) + ' ...' : post.linkContent.description }}</span>
                </div>
            </div>
            <div class="row my-2" *ngIf="!post.image && !post.linkContent" (click)="view()">

                <div class="col-12">
                    <p class="text-center my-auto mx-auto breakable-word">
                        <small class="text-primary"  *ngIf="post?.subject[0].length > 0">
                            <i>#{{ post?.subject[0]?.length >= 16 ? post?.subject[0]?.substring(0, 16) + ' ...' : post?.subject[0]
                                }}
                            </i> -</small>
                        <!-- <small class="text-muted">{{ post.content.length > 140 ? post.content.substring(0, 140) + '
                            ...'
                            : post.content }}</small> -->
                        {{ post.content }}
                    </p>
                </div>
            </div>
            <div class="row" *ngIf="post.image && post.linkContent">
                <div class="col-6 align-self-center" (click)="view()">
                    <img class="w-100" src="{{ post?.linkContent.image }}" alt="Resim yok" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'">
                </div>
                <div class="col-6 px-0">
                    <img src="{{ global.URL_S3_POSTS + post?.image }}" class="w-100" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/uploadempty.png'">
                </div>
                <div class="col-12 my-2"  (click)="view()">
                    <p class="text-center my-auto mx-auto breakable-word">
                        <small class="text-primary"  *ngIf="post?.subject[0].length > 0">
                            <i>#{{ post?.subject[0]?.length >= 16 ? post?.subject[0]?.substring(0, 16) + ' ...' : post?.subject[0]
                                }}
                            </i> -</small>
                        <!-- <small class="text-muted">{{ post.content.length > 140 ? post.content.substring(0, 140) + '
                            ...'
                            : post.content }}</small> -->
                        {{ post.content }}
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
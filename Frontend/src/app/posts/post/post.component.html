<div class="card border mb-3 w-100  animated fadeIn">
    <div class="card-header p-2" *ngIf="!inProfile">
        <div class="col-12 mb-0 card-title">
            <div class="row">
                <div class="col-2 pl-0" *ngIf="!post.isShared">
                    <img src="{{ global.URL_S3_USERS + post.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                        class="w-100 rounded-circle" alt="profil" (click)="viewProfile(post.nickName)">
                </div>
                <div class="col-2 pl-0" *ngIf="post.isShared">
                    <img src="{{ global.URL_S3_USERS + post.shares[post.shares.length - 1].user.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                        class="w-100 rounded-circle" alt="profil" (click)="viewProfile(post.shares[post.shares.length - 1].user.nickName)">
                </div>
                <div class="col-10 pl-0" *ngIf="!post.isShared" (click)="viewProfile(post.nickName)">
                    <small>{{ post.nickName }} - {{ post.created | date:'shortDate' }}</small>
                </div>
                <div class="col-10 pl-0" *ngIf="post.isShared" (click)="viewProfile(post.shares[post.shares.length - 1].user.nickName)">
                    <small>{{ post.shares[post.shares.length - 1].user.nickName }} - {{ post.shares[post.shares.length
                        - 1].date | date:'shortDate'}} </small>
                </div>
            </div>
            <div class="row border-top mt-2 pt-2" *ngIf="post.isShared">
                <div class="pr-0 col-10 text-right" *ngIf="post.isShared">
                    <small>
                        <i class="fal fa-share-alt-square" aria-hidden="true"></i> <i>{{ lang.text.post.whoShared}}: {{ post.nickName }}</i> </small>
                </div>
                <div class="col-2 pr-0">
                    <img src="{{ global.URL_S3_USERS + post.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'"
                        class="w-100 rounded-circle" alt="profil" (click)="viewProfile(post.nickName)">
                </div>
            </div>
        </div>
    </div>
    <div class="card-body row mx-auto p-0">
        <div (click)="view()" class="card-text col my-auto h-100">
            <div class="row" *ngIf="post.image && !post.linkContent">
                <div class="col-6 px-0">
                    <img src="{{ global.URL_S3_POSTS + post?.image }}" class="w-100" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/uploadempty.png'">
                </div>
                <div class="col-6 align-self-center">
                    <p class="text-center my-auto mx-auto  breakable-word">
                        <small class="text-primary">
                            <i>#{{ post?.subject[0].length >= 16 ? post?.subject[0].substring(0, 16) + ' ...' : post?.subject[0]
                                }}
                            </i> -</small>
                        <small class="text-muted">{{ post.content.length > 40 ? post.content.substring(0, 40) + ' ...' :
                            post.content }}</small>
                    </p>
                </div>
            </div>
            <div class="row" *ngIf="post.linkContent && !post.image">
                <div class="col-6 px-0">
                    <img class="w-100" src="{{ post?.linkContent.image }}" alt="Resim yok" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'">
                </div>
                <div class="col-6 my-3 align-self-center">
                    <h6>{{ post?.linkContent.title.length > 40 ? post.linkContent.title.substring(0, 40) + ' ...' : post.linkContent.title
                        }}
                    </h6>
                    <small class="text-muted">{{ post?.linkContent.description.length > 60 ? post.linkContent.description.substring(0,
                        60) + ' ...' : post.linkContent.description }}</small>
                </div>
            </div>
            <div class="row my-3" *ngIf="!post.image && !post.linkContent">
                <div class="col-12">
                    <p class="text-center my-auto mx-auto breakable-word">
                        <small class="text-primary">
                            <i>#{{ post?.subject[0]?.length >= 16 ? post?.subject[0]?.substring(0, 16) + ' ...' : post?.subject[0]
                                }}
                            </i> -</small>
                        <small class="text-muted">{{ post.content.length > 140 ? post.content.substring(0, 140) + ' ...'
                            : post.content }}</small>
                    </p>
                </div>
            </div>
            <div class="row" *ngIf="post.image && post.linkContent">
                <div class="col-6 align-self-center">
                    <img class="w-100" src="{{ post?.linkContent.image }}" alt="Resim yok" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/emptyprofile.png'">
                </div>
                <div class="col-6 px-0">
                    <img src="{{ global.URL_S3_POSTS + post?.image }}" class="w-100" onerror="this.src='https://s3.us-east-2.amazonaws.com/kutatku/app_images/uploadempty.png'">
                </div>
                <div class="col-12 my-3">
                    <p class="text-center my-auto mx-auto breakable-word">
                        <small class="text-primary">
                            <i>#{{ post?.subject[0]?.length >= 16 ? post?.subject[0]?.substring(0, 16) + ' ...' : post?.subject[0]
                                }}
                            </i> -</small>
                        <small class="text-muted">{{ post.content.length > 140 ? post.content.substring(0, 140) + ' ...'
                            : post.content }}</small>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="card border mb-4 w-100">
    <div class="card-body row">
        <div *ngIf="!inProfile" class="col-12 mb-0 card-title">
            <div class="row mb-2">
                <div class="col-2" *ngIf="!post.isShared">
                    <img src="{{ global.URL_S3_USERS + post.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/socialmediaimages2017/app_images/emptyprofile.png'"
                        class="profile-picture-xs full-rounded" alt="profil" (click)="viewProfile(post.nickName)">
                </div>
                <div class="col-2" *ngIf="post.isShared">
                    <img src="{{ global.URL_S3_USERS + post.shares[post.shares.length - 1].user.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/socialmediaimages2017/app_images/emptyprofile.png'"
                        class="profile-picture-xs full-rounded" alt="profil" (click)="viewProfile(post.shares[post.shares.length - 1].user.nickName)">
                </div>
                <div class="col-10" *ngIf="!post.isShared">
                    <small class="mt-1">{{ post.nickName }} - {{ post.created | date:'shortDate' }}</small>
                </div>
                <div class="col-10" *ngIf="post.isShared">
                    <small class="mt-1">{{ post.shares[post.shares.length - 1].user.nickName }} - {{ post.shares[post.shares.length - 1].date
                        | date:'shortDate'}} </small>
                </div>
            </div>
            <div class="row" *ngIf="post.isShared">
                <div class="pr-0 col-10 text-right" *ngIf="post.isShared">
                    <small class="mt-1 border-top">
                        <i class="fa fa-share-alt-square" aria-hidden="true"></i> {{ post.nickName }} </small>
                </div>
                <div class="col-2">
                    <img src="{{ global.URL_S3_USERS + post.profilePicture }}" onerror="this.src='https://s3.us-east-2.amazonaws.com/socialmediaimages2017/app_images/emptyprofile.png'"
                        class="profile-picture-xs full-rounded" alt="profil" (click)="viewProfile(post.nickName)">
                </div>
            </div>
        </div>
        <div (click)="view()" class="card-text col my-auto h-100" [ngClass]="{'p-2 pt-0': post.isShared, 'p-2': !post.isShared}">
            <div class="row" *ngIf="post.image && !post.linkContent">
                <div class="col-5 pr-0">
                    <img src="{{ global.URL_S3_POSTS + post?.image }}" class="img-thumbnail" onerror="this.src='https://s3.us-east-2.amazonaws.com/socialmediaimages2017/app_images/uploadempty.png'">
                </div>
                <div class="col-7 align-self-center">
                    <p class="text-center my-auto mx-auto">
                        <small class="text-primary">
                            <i>#{{ post?.subject[0].length >= 16 ? post?.subject[0].substring(0, 16) + ' ...' : post?.subject[0]
                                }}
                            </i> -</small>
                        <small class="text-muted">{{ post.content.length > 40 ? post.content.substring(0, 40) + ' ...' : post.content }}</small>
                    </p>
                </div>
            </div>
            <div class="row" *ngIf="post.linkContent && !post.image">
                <div class="col-5 pr-0">
                    <img class="img-thumbnail" src="{{ post?.linkContent.image }}" alt="Resim yok" onerror="this.src='https://s3.us-east-2.amazonaws.com/socialmediaimages2017/app_images/emptyprofile.png'">
                </div>
                <div class="col-7  align-self-center">
                    <h6>{{ post?.linkContent.title.length > 40 ? post.linkContent.title.substring(0, 40) + ' ...' : post.linkContent.title
                        }}
                    </h6>
                    <small class="text-muted">{{ post?.linkContent.description.length > 60 ? post.linkContent.description.substring(0, 60) + ' ...'
                        : post.linkContent.description }}</small>
                </div>
            </div>
            <div class="row" *ngIf="!post.image && !post.linkContent">
                <div class="col-12 h-110">
                    <p class="text-center my-auto mx-auto">
                        <small class="text-primary">
                            <i>#{{ post?.subject[0]?.length >= 16 ? post?.subject[0]?.substring(0, 16) + ' ...' : post?.subject[0]
                                }}
                            </i> -</small>
                        <small class="text-muted">{{ post.content.length > 140 ? post.content.substring(0, 140) + ' ...' : post.content }}</small>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
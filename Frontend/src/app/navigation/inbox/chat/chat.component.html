<div class="p-4" (click)="$event.stopPropagation()">
    <div class="row mb-2 border-bottom pb-2">
        <div class="col-md-4 col-6 align-self-center">
            Oda seciniz:
        </div>
        <div class="col-md-8 col-6 pl-0">
            <select (change)="selectRoom(room)" (click)="$event.stopPropagation()" [(ngModel)]="room" class="form-control">
                <option *ngFor="let room of rooms" value="{{ room.name }}">{{ room.name }}</option>
            </select>
        </div>
    </div>

    <div class="scrollable mb-4" id="scrollThis">
        <div class="row mx-auto" *ngIf="messages.length == 0">
            <div class="col-12 pl-0 message">
                Hic bir mesaj bulunamadi!
            </div>
        </div>
        <div *ngFor="let message of messages" class="row mx-auto message mb-1" [ngStyle]="{ 'color': message.text.color }">
            <div class="col-12 pl-0 message">
                <b>
                    <i>{{ message.text.name }}:</i>
                </b> {{message.text.message}}
                <div class="complaint-button bg-light border p-2 ml-2">
                    <p class="text-center my-auto text-success" *ngIf="message.complaintStatus">{{ message.complaintStatus }}</p>
                    <div class="row" *ngIf="!message.complaintStatus">
                        <div class="col-12">
                            <input type="text" class="form-control" [(ngModel)]="reason" placeholder="Sebep (max. 100 karakter)">
                        </div>
                        <div class="col-12">
                            <button [disabled]="!reason" class="btn btn-danger btn-sm btn-block py-0" (click)="complain(message)">Sikayet et</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-4 h-100">
            <button type="button" name="button" class="btn btn-warning btn-block" (click)="openPopup()">
                <i class="far fa-smile"></i>
            </button>
        </div>
        <div class="col-4 h-100">
            <button class="btn btn-primary btn-block">
                <i class="fas fa-palette"></i>
                <input type="color" name="color" class="color-box py-0" [(ngModel)]="color" />
            </button>
        </div>
        <div class="col-4 h-100">
            <button class="btn btn-success btn-block" (click)="sendMessage(); $event.stopPropagation()">
                <i class="fa fa-share-square" aria-hidden="true"></i>
            </button>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col">
            <emoji-input [popupAnchor]="'bottom'" [(model)]="message" [textArea]="{rows: 2}" [closeAfterSelection]="false" maxlength="256"
                (click)="openPopup(false)" (keypress)="sendWithEnter($event)" (setPopupAction)="setPopupAction($event)">
            </emoji-input>
        </div>
    </div>


</div>